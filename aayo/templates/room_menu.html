{% extends "base.html" %}
{% load static %}

{% block content %}
<div class="room-container">
    <h2 class="page-title"><span> ğŸ‘‹{{ room.name }} </span> - <span> {{ room.cafe }} </span></h2>

    {% if not guest_name %}
    <form id="guestNameForm">
        {% csrf_token %}
        <input type="text" name="guest_name" required placeholder="ì´ë¦„">
        <input type="password" name="password" placeholder="ë¹„ë°€ë²ˆí˜¸ (ì„ íƒ)">
        <button type="submit">ë©”ë‰´ ì£¼ë¬¸í•˜ê¸°</button>
    </form>
    {% else %}
    <p class="centered-text">ì•ˆë…•í•˜ì„¸ìš”, {{ guest_name }}ë‹˜!</p>
    <input type="text" id="menuSearch" placeholder="ë©”ë‰´ ê²€ìƒ‰...">
    <p class="centered-text">í˜„ì¬ ì„ íƒí•œ ë©”ë‰´: <span id="selectedMenuNames">ì•„ì§ ê³ ë¥´ì‹  ë©”ë‰´ê°€ ì—†ì–´ìš”.</span></p>
    <!-- í˜„ì¬ ì„ íƒëœ ë©”ë‰´ ì´ë¦„ì„ ê°€ì ¸ì™€ì„œ ìƒë‹¨ì— ë³´ì—¬ì£¼ê²Œ í•˜ë„ë¡ ë§Œë“¤ê² ë‹¤ï¹— -->

    <form id="menuForm">
        {% csrf_token %}
        <button type="submit" id="confirmButton" disabled>ì£¼ë¬¸ í™•ì •í•˜ê¸°</button>
    </form>

    <div id="menuListContainer" class="menu-grid">
        {% for menu in menus %}
        <div class="menu-item{% if menu.id in selected_menu_ids %} selected{% endif %}" data-menu-id="{{ menu.id }}">
            {% if menu.image_url %}
                <img src="{{ menu.image_url }}" alt="{{ menu.name }}" class="menu-image">
            {% endif %}
            <p class="menu-name">{{ menu.name }}</p>
        </div>
        {% endfor %}
    </div>
    {% endif %}
    
    <!-- Modal -->
    <div class="modal" id="menuDetailModal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2 id="menuDetailModalLabel"></h2>
            <div class="image-container">
                <img id="modalMenuImage" src="" alt="" class="menu-image">
            </div>
            <div class="btn-group-temp">
                <button type="button" class="btn" id="hotButton">ğŸ”¥ HOT</button>
                <button type="button" class="btn" id="iceButton">ğŸ§Š ICE</button>
            </div>
            <div class="btn-group-size">
                <button type="button" class="btn" id="regularButton">Regular</button>
                <button type="button" class="btn" id="extraButton">Extra</button>
            </div>
            <div class="btn-group-ice">
                <button type="button" class="btn" id="bigIceButton">ì–¼ìŒ ë§ì´</button>
                <button type="button" class="btn" id="regularIceButton">ì–¼ìŒ ë³´í†µ</button>
                <button type="button" class="btn" id="lessIceButton">ì–¼ìŒ ì ê²Œ</button>
            </div>
            <div class="form-group-etc">
                <label for="additionalInstructions">ê¸°íƒ€ ì„¸ë¶€ì‚¬í•­</label>
                <textarea id="additionalInstructions" rows="3"></textarea>
            </div>
            <button type="button" id="saveMenuItem">ë‚´ ë©”ë‰´ ì €ì¥í•˜ê¸°</button>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="{% static 'js/menu.js' %}"></script>
{% endblock %}
